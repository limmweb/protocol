#!/bin/bash

BLOCKCHAIN_PATH="${HOME}/.blockchain"

ACCOUNTS=( \
    "0x128e638b653b71cf72ed68466f36b72d744a83f42e8050f9f46ba900bac03f6f,1000000000000000000000000000" \
    "0xabb13f92ea05323c3918985bb874e38bf5577c1d447f31bae5c4b158010c15c9,1000000000000000000000000000" \
    "0x20939c981c67e1bf496d0294b98c1edb9a52f4cc62fbc6e848b9db26719cbca1,1000000000000000000000000000"
    "0x3fb525ec6e211edfb9919fb23df3dbee11b50a53ffd213cd1132d90d8d96d502,100000000000000000000" \
    "0x366730cbc0215f2b44c3db3ce5327f2ba5cb9d71669d7f5e7a637bc038591ada,100000000000000000000" \
    "0x3c398a155783bfceea292955272aa90f49d16b46d27d224bbd176c95469c53da,100000000000000000000" \
    "0x4548354aefdc2c60970fa1e67a6e6dfe56b7f366cfe85a5ced4712d5a4c4056c,100000000000000000000" \
    "0x142086738737a4187c1992e040efd71b60274d699453a6bcbce4583888c7a20a,100000000000000000000" \
)

GANACHE_ARGS=""

if [ -n "$BLOCKCHAIN_PATH" -a -z "$NO_STORE" ]
then
    if [ ! -d "$BLOCKCHAIN_PATH" ]
    then
        echo -n "Creating $BLOCKCHAIN_PATH ... "
        if mkdir -p "$BLOCKCHAIN_PATH"
        then
            echo "OK"
        else
            echo "FAIL"
            exit 1
        fi
    fi

    GANACHE_ARGS="${GANACHE_ARGS} --db=$BLOCKCHAIN_PATH"
fi

for ACCOUNT in ${ACCOUNTS[*]}
do
    GANACHE_ARGS="${GANACHE_ARGS} --account=${ACCOUNT}"
done

#echo \
/usr/bin/ganache-cli $GANACHE_ARGS 

